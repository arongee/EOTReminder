<Window x:Class="EOTReminder.Views.OptionsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:EOTReminder.ViewModels"
        mc:Ignorable="d"
        Title="Application Options"
        Height="600" Width="600"
        WindowStartupLocation="CenterScreen"
        WindowStyle="ToolWindow">

    <Window.DataContext>
        <vm:OptionsViewModel />
    </Window.DataContext>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- TABS -->
        <TabControl Grid.Row="0">

            <!-- GENERAL TAB -->
            <TabItem Header="General">
                <StackPanel Margin="10">

                    <!-- Excel File -->
                    <TextBlock Text="Excel File Path:" Margin="5"/>
                    <DockPanel Margin="5">
                        <TextBox Text="{Binding ExcelFilePath}" Width="400" Margin="0,0,10,0"/>
                        <Button Content="Browse" Width="80"
                                Command="{Binding BrowseExcelCommand}"/>
                    </DockPanel>

                    <!-- Alerts Minutes -->
                    <TextBlock Text="הכרזה ראשונה בדקות לפני הזמן:" Margin="5"/>
                    <TextBox Width="120" Margin="5"
                             Text="{Binding FirstAlertMinutes}"/>

                    <TextBlock Text="הכרזה שנייה בדקות לפני הזמן:" Margin="5"/>
                    <TextBox Width="120" Margin="5"
                             Text="{Binding SecondAlertMinutes}"/>

                    <TextBlock Text="שינוי וויזואלי בדקות לפני הזמן:" Margin="5"/>
                    <TextBox Width="120" Margin="5"
                             Text="{Binding VisualAlertMinutes}"/>

                    <CheckBox Content="להפעיל בשבת וחג"
                              Margin="5"
                              IsChecked="{Binding AlertOnShabbos}"/>

                </StackPanel>
            </TabItem>


            <!-- ALERT AUDIO TAB -->
            <TabItem Header="Alerts">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">

                        <!-- Helper Style -->
                        <StackPanel.Resources>
                            <Style TargetType="DockPanel">
                                <Setter Property="Margin" Value="5"/>
                            </Style>
                        </StackPanel.Resources>

                        <!-- EOS1 -->
                        <TextBlock Text="סוף זמן קריש א' הכרזה א" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOS1FirstAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOS1FirstAlertCommand}"/>
                        </DockPanel>
                        <TextBlock Text="סוף זמן קריש א' הכרזה ב" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOS1SecondAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOS1SecondAlertCommand}"/>
                        </DockPanel>

                        <!-- EOS2 -->
                        <TextBlock Text="סוף זמן קריש ב' הכרזה א" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOS2FirstAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOS2FirstAlertCommand}"/>
                        </DockPanel>
                        <TextBlock Text="סוף זמן קריש א' הכרזה ב" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOS2SecondAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOS2SecondAlertCommand}"/>
                        </DockPanel>

                        <!-- EOT1 -->
                        <TextBlock Text="EOT1 Alerts" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOT1FirstAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOT1FirstAlertCommand}"/>
                        </DockPanel>
                        <TextBlock Text="EOT1 Alerts" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOT1SecondAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOT1SecondAlertCommand}"/>
                        </DockPanel>

                        <!-- EOT2 -->
                        <TextBlock Text="סוף זמן תפילה ב' הכרזה א" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOT2FirstAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOT2FirstAlertCommand}"/>
                        </DockPanel>
                        <TextBlock Text="EOT2 Alerts" FontWeight="Bold" Margin="5"/>
                        <DockPanel>
                            <TextBox Text="{Binding EOT2SecondAlertPath}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseEOT2SecondAlertCommand}"/>
                        </DockPanel>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>


            <!-- SUNSET TAB -->
            <TabItem Header="Sunset">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">

                        <!-- Sunset 1 -->
                        <CheckBox Content="להפעיל הכרזה שקיעה בעשר דקות לפני"
                                  Margin="5"
                                  IsChecked="{Binding RunSunset1}"/>
                        <DockPanel Margin="5">
                            <TextBox Text="{Binding Sunset1Path}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseSunset1Command}"/>
                        </DockPanel>

                        <!-- Sunset 2 -->
                        <CheckBox Content="להפעיל הכרזה שקיעה בשלש דקות לפני"
                                  Margin="5"
                                  IsChecked="{Binding RunSunset2}"/>
                        <DockPanel Margin="5">
                            <TextBox Text="{Binding Sunset2Path}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseSunset2Command}"/>
                        </DockPanel>

                        <!-- Sunset 3 -->
                        <CheckBox Content="להפעיל הכרזה שקיעה בשקיעה"
                                  Margin="5"
                                  IsChecked="{Binding RunSunset3}"/>
                        <DockPanel Margin="5">
                            <TextBox Text="{Binding Sunset3Path}" Width="400" Margin="0,0,10,0"/>
                            <Button Content="Browse" Width="80"
                                    Command="{Binding BrowseSunset3Command}"/>
                        </DockPanel>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>

        </TabControl>

        <!-- BUTTONS -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            
            <Button Content="שמור" 
                    Command="{Binding SaveSettingsCommand}" 
                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" 
                    Margin="0,0,0,0" Padding="5,5"/>
            <Button Content="סגור הגדרות" 
                    Command="{Binding CloseSettingsCommand}" 
                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" 
                    Padding="5,5"/>
            <Button Content="סגור תוכנה" 
                    Command="{Binding CloseApplicationCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                    Padding="10,5"/>
            <Button Content="הקטן" 
                    Command="{Binding MinimizeApplicationCommand}" 
                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" 
                    Padding="10,5"/>
            <Button Content="אפשר שינוי גודל" 
                    Command="{Binding MakeWindowResizableCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" 
                    Padding="10,5"/>

        </StackPanel>

    </Grid>
</Window>
